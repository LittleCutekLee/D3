<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>
  <body>
    <svg width="1400" height="800" id="mainsvg" class="svgs"></svg>
    <script>
      const data = [
        {
          name: "Shao-Kui",
          value: 6,
        },
        {
          name: "Wen-Yang",
          value: 16,
        },
        {
          name: "Cai-Yun",
          value: 18,
        },
        {
          name: "Liang-Yuan",
          value: 6,
        },
        {
          name: "Yuan-Chen",
          value: 10,
        },
        {
          name: "Rui-Long",
          value: 16,
        },
        {
          name: "Dong-Xin",
          value: 20,
        },
        {
          name: "He-Yu",
          value: 12,
        },
        {
          name: "Xiang-Li",
          value: 15,
        },
        {
          name: "Godness",
          value: 14,
        },
        {
          name: "Wei-Yu",
          value: 15,
        },
        {
          name: "Chen-Zheng",
          value: 18,
        },
        {
          name: "Yu-Peng",
          value: 16,
        },
        {
          name: "Li-Jian",
          value: 16,
        },
      ];
      
      const data1 = [
        {
          name: "Shao-Kui",
          value: 20,
        },
        {
          name: "Wen-Yang",
          value: 14,
        },
        {
          name: "Cai-Yun",
          value: 16,
        },
        {
          name: "Liang-Yuan",
          value: 9,
        },
        {
          name: "Yuan-Chen",
          value: 12,
        },
        {
          name: "Rui-Long",
          value: 10,
        },
        {
          name: "Dong-Xin",
          value: 12,
        },
        {
          name: "He-Yu",
          value: 16,
        },
        {
          name: "Xiang-Li",
          value: 11,
        },
        {
          name: "Godness",
          value: 8,
        },
        {
          name: "Wei-Yu",
          value: 7,
        },
        {
          name: "Chen-Zheng",
          value: 17,
        },
        {
          name: "Yu-Peng",
          value: 14,
        },
        {
          name: "Li-Jian",
          value: 15,
        },
      ];
      const svg = d3.select("#mainsvg");
      //+号是用来将获取来的宽高数值型数据转成字符串型
      const width = +svg.attr("width");
      const height = +svg.attr("height");
      const margin = { top: 60, right: 30, bottom: 60, left: 150 };
      const innerWidth = width - (margin.left + margin.right);
      const innerHeight = height - (margin.top + margin.bottom);

      const xScale = d3
        .scaleLinear()
        .domain([0, d3.max(data, (d) => d.value)])
        .range([0, innerWidth]);

      const yScale = d3
        .scaleBand()
        .domain(data.map((d) => d.name))
        .range([0, innerHeight])
        .padding(0.1);

      const g = svg
        .append("g")
        .attr("id", "maingroup")
        .attr("transform", `translate(${margin.left},${margin.top})`);

      const yAxis = d3.axisLeft(yScale).tickSize(-innerWidth);
      g.append("g").call(yAxis);

      const xAxis = d3.axisBottom(xScale);
      g.append("g")
        .call(xAxis)
        .attr("transform", `translate(0,${innerHeight})`);

      data.forEach((d) => {
        g.append("rect")
          .attr("width", xScale(d.value))
          .attr("height", yScale.bandwidth())
          .attr("fill", "green")
          .attr("y", yScale(d.name));
      });

      d3.selectAll('.tick text').attr('font-size','2em')

      g.append('text').text('Merbers of CSCG').attr('font-size','3em').attr('transform',`translate(${innerWidth/2},-20)`).attr('text-anchor','middle')
    </script>
  </body>
</html>
